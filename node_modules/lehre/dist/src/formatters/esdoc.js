"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var format = function (value) {
    var types = value.split('\n').map(function (v) { return v.replace(/^\s+/, ''); });
    return types.join(' ');
};
var formatParam = function (param) {
    if (param.name) {
        return "{" + format(param.type) + "} " + param.name;
    }
    return "{" + format(param.type) + "}";
};
var generateClassDoc = function (doc) {
    var d = doc.heritageClauses.length === 0
        ? "\n/**\n * " + doc.name + ".\n */"
        : "\n/**\n * " + doc.name + ".\n *\n * @" + doc.heritageClauses.map(function (h) { return h.type + " {" + h.value + "}"; }).join('\n * @') + "\n */";
    return d.trim();
};
module.exports = {
    generateClassDoc: generateClassDoc,
    generateInterfaceDoc: generateClassDoc,
    generatePropertyDoc: function (doc) {
        return ("\n/**\n * @type {" + doc.returnType + "}\n */").trimLeft();
    },
    generateFunctionDoc: function (doc) {
        var start = doc.params.length === 0
            ? "\n/**\n * " + doc.name + "."
            : "\n/**\n * " + doc.name + ".\n *\n * @param " + doc.params.map(formatParam).join('\n * @param ');
        var delimiter = doc.params.length === 0 && doc.returnType !== ''
            ? "\n *"
            : "";
        var end = doc.returnType
            ? "\n * @return {" + doc.returnType + "}\n */"
            : "\n */";
        return "" + start.trimLeft() + delimiter + end.trimRight();
    },
};
